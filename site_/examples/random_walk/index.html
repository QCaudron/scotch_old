<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Whisky-Fuelled Random Walk - scotch</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> scotch</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>scotch</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../scotch/quickstart">Quick Start</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../scotch/scotch_models">Describing scotch models</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../scotch/simulation_algorithms">Simulation</a>
                    
                </li>
            
        

    
        
        <span>Markov Chains</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../markov_processes/ctmc">Continuous-time Markov Chains</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../markov_processes/algorithms">Simulation algorithms</a>
                    
                </li>
            
        

    
        
        <span>Examples</span>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">1. Whisky-Fuelled Random Walk</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#the-whisky-fuelled-random-walk">The Whisky-Fuelled Random Walk</a></li>
                            
                                <li><a class="toctree-l3" href="#scenario">Scenario</a></li>
                            
                                <li><a class="toctree-l3" href="#scotch-model-specification">scotch model specification</a></li>
                            
                                <li><a class="toctree-l3" href="#simulation">Simulation</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../lotka_volterra">2. Lotka-Volterra Equations</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../seir">3. SEIR Epidemic Model</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>1. Whisky-Fuelled Random Walk</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/qcaudron/scotch/" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="the-whisky-fuelled-random-walk">The Whisky-Fuelled Random Walk</h1>
<h3 id="scenario">Scenario</h3>
<p>After a night of enjoying substantial amounts of single malt scotch, a Python programmer must stumble home from the bar. With impaired motor skills, she staggers home, with each step either :</p>
<ul>
<li>bringing her closer to her bed with probability <code>p</code>,</li>
<li>a backwards stumble with probability <code>q</code>,</li>
<li>hovering on the spot to regain her balance with probability <code>r</code>.</li>
</ul>
<p>We only wish to measure her distance from home, and thus define the state space as the one-dimensional variable <code>D</code>. We start <code>D</code> with an initial condition of one hundred steps. With probability <code>p</code>, <code>D</code> decreases by one; with probability <code>q</code>, <code>D</code> increases by one; and with probability <code>r</code>, <code>D</code> remains unchanged.</p>
<h3 id="scotch-model-specification"><em>scotch</em> model specification</h3>
<p>We can express this system as a <em>scotch</em> model as follows :</p>
<pre><code>{
    &quot;States&quot; : [
        &quot;D&quot;
    ],

    &quot;InitialConditions&quot; : {
        &quot;D&quot; : 100,
    },

    &quot;Parameters&quot; : {
        &quot;p&quot; : &quot;0.5&quot;,
        &quot;q&quot; : &quot;0.2&quot;,
        &quot;r&quot; : &quot;0.3&quot;
    },

    &quot;Reactions&quot; : [
        {
            &quot;p&quot; : { &quot;D&quot; : -1 }
        },
        {
            &quot;q&quot; : { &quot;D&quot; : 1 }
        }
    ]
}
</code></pre>

<p>Let's go through the file line by line. We'll use Python jargon to describe the data structures that make up the <em>scotch</em> model file.</p>
<p>First, note that the whole thing is one big dictionary. There are a few required keys :</p>
<ul>
<li><code>States</code>, a list of state variables;</li>
<li><code>InitialConditions</code>, a dictionary mapping state variables to their initial conditions;</li>
<li><code>Parameters</code>, a dictionary of parameter names and their values (as strings);</li>
<li><code>Reactions</code>, a dictionary mapping rates to transitions, which we'll see more closely soon.</li>
</ul>
<p>The <code>States</code> entry might look like <code>"States" : ["X", "Y"]</code> if you wanted to simulate a random walk in two dimensions. It's just a list of state space names, as strings. There has to be one entry in the <code>InitialConditions</code> dictionary per entry in the <code>States</code> list.</p>
<p>The <code>Parameters</code> entry combines this style : each entry is a key-value pair mapping the parameter's name to its value. Note that the value must be given as a string - this is because the value can contain numerical expressions (for more on this, see the <em>scotch</em> model page, to be created and linked soon...).</p>
<p><code>Reactions</code> is a dictionary. Each key is an expression defining the rate of the reaction. Each value is a dictionary of transitions that occur when that reaction takes place. In this example, at a rate <code>p</code>, the variable <code>D</code> decreases by one; with probability <code>q</code>, variable <code>D</code> increases by one; we've left out the <code>r</code>-rated reaction, as nothing happens here. If you wanted to include it, it would look like <code>"r" : [["D", 0]]"</code>, although this will slow down your simulations. The reason for the dictionary of dictionaries is because we could, in more complex models, have more than one transition per reaction. Say the random walk were in 2D. Then, with a certain probability, perhaps our drunk programmer would take a diagonal step; with our <code>X</code> and <code>Y</code> state variables, this reaction might look like,</p>
<pre><code>{
    &quot;s&quot; : { &quot;X&quot; : 1, 
            &quot;Y&quot; : 1 }
}
</code></pre>

<p>That is, with probability <code>s</code>, we take a step that increases the X and Y coordinates by one each. This reaction is written as a dictionary, with an expression for the rate of the reaction as the key, and the value being a dictionary, with keys representing state variables and values representing the change in that state when the reaction occurs.</p>
<p>Finally, note that, in the language of random walks, we've described our parameters <code>p, q, r</code> as probabilities here. However, <em>scotch</em> expects rates, and thus, the parameters need not sum to one.</p>
<h3 id="simulation">Simulation</h3>
<p>Stuff here.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../lotka_volterra" class="btn btn-neutral float-right" title="2. Lotka-Volterra Equations"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../markov_processes/algorithms" class="btn btn-neutral" title="Simulation algorithms"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="../../markov_processes/algorithms" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../lotka_volterra" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>